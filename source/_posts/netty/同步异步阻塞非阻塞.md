---
title: 同步异步阻塞非阻塞
date: 2017-04-05 22:50:39
tags:
categories: netty
---



老张爱喝茶，废话不说，煮开水。出场人物：老张，水壶两把（普通水壶，简称水壶；会响的水壶，简称响水壶）。

1 老张把水壶放到火上，立等水开。（同步阻塞）
老张觉得自己有点傻

2 老张把水壶放到火上，去客厅看电视，时不时去厨房看看水开没有。（同步非阻塞）
老张还是觉得自己有点傻，于是变高端了，买了把会响笛的那种水壶。水开之后，能大声发出嘀~~~~的噪音。

3 老张把响水壶放到火上，立等水开。（异步阻塞）
老张觉得这样傻等意义不大

4 老张把响水壶放到火上，去客厅看电视，水壶响之前不再去看它了，响了再去拿壶。（异步非阻塞）
老张觉得自己聪明了。

- 所谓同步异步，只是对于水壶而言。

    普通水壶，同步；

    响水壶，异步。

    虽然都能干活，但响水壶可以在自己完工之后，提示老张水开了。

    这是普通水壶所不能及的。

    同步只能让调用者去轮询自己（情况2中），造成老张效率的低下。

- 所谓阻塞非阻塞，仅仅对于老张而言。

    立等的老张，阻塞；
    看电视的老张，非阻塞。

    情况1和情况3中老张就是阻塞的，媳妇喊他都不知道。

    虽然3中响水壶是异步的，可对于立等的老张没有太大的意义。

    所以一般异步是配合非阻塞使用的，这样才能发挥异步的效用。

——来源网络，作者不明。

-------------------------------------------------------------------------------------------

作者：愚抄
链接：https://www.zhihu.com/question/19732473/answer/23434554
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

-------------------------------------------------------------------------------------------

同步 异步 : 相对于被调用者而言
同步 : 不能够自己返回结果
异步 : 可以自己返回结果

阻塞 非阻塞 : 相对于调用者而言
阻塞 : 一直在等待结果
非阻塞 : 不只等待结果, 还可以执行其他任务

-------------------------------------------------------------------------------------------

>
    举个例子

    如果你想吃一份宫保鸡丁盖饭：

    同步阻塞：你到饭馆点餐，然后在那等着，还要一边喊：好了没啊！

    同步非阻塞：在饭馆点完餐，就去遛狗了。不过溜一会儿，就回饭馆喊一声：好了没啊！

    异步阻塞：遛狗的时候，接到饭馆电话，说饭做好了，让您亲自去拿。

    异步非阻塞：饭馆打电话说，我们知道您的位置，一会给你送过来，安心遛狗就可以了。


---------------------------------

一个IO操作其实分成了两个步骤：发起IO请求和实际的IO操作。

同步IO和异步IO的区别就在于第二个步骤是否阻塞，如果实际的IO读写阻塞请求进程，那么就是同步IO。

阻塞IO和非阻塞IO的区别在于第一步，发起IO请求是否会被阻塞，如果阻塞直到完成那么就是传统的阻塞IO，如果不阻塞，那么就是非阻塞IO。

同步和异步是针对应用程序和内核的交互而言的，同步指的是用户进程触发IO操作并等待或者轮询的去查看IO操作是否就绪，而异步是指用户进程触发IO操作以后便开始做自己的事情，而当IO操作已经完成的时候会得到IO完成的通知。而阻塞和非阻塞是针对于进程在访问数据的时候，根据IO操作的就绪状态来采取的不同方式，说白了是一种读取或者写入操作函数的实现方式，阻塞方式下读取或者写入函数将一直等待，而非阻塞方式下，读取或者写入函数会立即返回一个状态值。
所以,IO操作可以分为3类：同步阻塞（即早期的IO操作）、同步非阻塞（NIO）、异步（AIO）。

同步阻塞：

在此种方式下，用户进程在发起一个IO操作以后，必须等待IO操作的完成，只有当真正完成了IO操作以后，用户进程才能运行。JAVA传统的IO模型属于此种方式。

同步非阻塞：

在此种方式下，用户进程发起一个IO操作以后边可返回做其它事情，但是用户进程需要时不时的询问IO操作是否就绪，这就要求用户进程不停的去询问，从而引入不必要的CPU资源浪费。其中目前JAVA的NIO就属于同步非阻塞IO。

异步：

此种方式下是指应用发起一个IO操作以后，不等待内核IO操作的完成，等内核完成IO操作以后会通知应用程序。


---摘录至网络
